<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Promo Brothers â€” entrar no grupo</title>
  <meta name="theme-color" content="#00D1FF" />
  <style>
    :root{ --bg:#0b0b0d; --card:#121216; --muted:#9aa3b2; --text:#eef2f7;
           --brand:#00D1FF; --brand-pressed:#0aa3c0; --radius:16px; }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; background: radial-gradient(1200px 600px at 50% -200px, #1b1630 0%, #0b0b0d 55%, #060608 100%);
      color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
      display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .wrap{ width:100%; max-width:480px; }
    .card{ background:var(--card); border:1px solid rgba(255,255,255,.06);
      border-radius: calc(var(--radius) + 8px);
      padding:28px; box-shadow: 0 10px 40px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.02);
      animation: cardEnter .5s ease both;
    }
    @keyframes cardEnter{
      from{ opacity:0; transform: translateY(8px) scale(.99); }
      to{ opacity:1; transform: none; }
    }
    .avatar{ width:132px;height:132px;border-radius:50%; display:block;margin:0 auto 16px auto; object-fit:cover;
      border:3px solid rgba(255,255,255,.1); box-shadow:0 8px 24px rgba(0,0,0,.35); background:#0e0e10; }
    h1{ font-size:26px; text-align:center; margin:0 0 6px 0; letter-spacing:.2px; }
    .badge{ text-align:center; font-size:14px; opacity:.9; margin-bottom:18px }
    .btn{
      position:relative; overflow:hidden;
      width:100%; border:none; border-radius: var(--radius); padding:14px 16px;
      font-weight:700; font-size:16px; cursor:pointer;
      display:flex; align-items:center; justify-content:center; gap:10px;
      transition: transform .08s ease, box-shadow .2s ease, background .12s ease, filter .2s ease;
      outline: none;
    }
    .btn.primary{ background:var(--brand); color:#04110d; box-shadow: 0 8px 22px rgba(0,209,255,.28); }
    .btn.secondary{ background:#191a20; color:#d8dee9; border:1px solid rgba(255,255,255,.08) }
    .btn:hover{ filter: brightness(1.02); box-shadow: 0 10px 26px rgba(0,0,0,.28), 0 0 0 1px rgba(255,255,255,.05) inset; }
    .btn:active{ transform: translateY(1px) scale(0.998); }
    .btn:focus-visible{ box-shadow: 0 0 0 3px rgba(0,209,255,.35), 0 6px 20px rgba(0,0,0,.35); }
    /* Ripple element */
    .ripple{
      position:absolute; border-radius:50%; transform: scale(0);
      background: rgba(255,255,255,.45); pointer-events:none; opacity:.75;
      animation: ripple .6s ease-out forwards;
      mix-blend-mode: screen;
    }
    @keyframes ripple{
      to{ transform: scale(4); opacity:0; }
    }
    .hint{ margin:14px 4px 10px 4px; font-size:12.5px; line-height:1.5; color:var(--muted); text-align:center; }
    .qr{ margin-top:12px; padding:16px; border-radius: var(--radius); background: #0e0f13;
          border:1px dashed rgba(255,255,255,.08); display:flex; flex-direction:column; gap:10px; align-items:center; justify-content:center; }
    .qr canvas, .qr img{ width:100%; max-width:360px; height:auto; display:block }
    .footer{ margin-top:10px; text-align:center; font-size:11.5px; color:var(--muted); }
    .toast{
      position: fixed; left:50%; transform: translateX(-50%);
      bottom: 22px; background: #0f172a; color:#e2e8f0;
      border:1px solid rgba(255,255,255,.08);
      border-radius: 12px; padding:10px 14px; font-size:14px;
      box-shadow: 0 8px 28px rgba(0,0,0,.45);
      opacity:0; pointer-events:none; transition: opacity .25s ease, transform .25s ease;
    }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(-4px); }
    .small{ font-size:12px; color:var(--muted); text-align:center }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <img class="avatar" src="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..." alt="Logo do grupo" />
      <h1>Promo Brothers</h1>
      <div class="badge">Entre no grupo oficial</div>
      <button class="btn primary rippleable" id="joinBtn">ðŸ’¬ Entrar no grupo</button>
      <div style="height:10px"></div>
      <button class="btn secondary rippleable" id="copyBtn">âŽ˜ Copiar o link do grupo</button>
      <p class="hint">Caso esteja com problemas para entrar no grupo, abra o WhatsApp e cole o link em uma conversa.
        Depois toque no link para abrir direto no grupo.</p>

      <div class="qr">
        <div class="small">Aponte a cÃ¢mera para entrar:</div>
        <div id="qrCanvas"></div>
      </div>
    </div>
  </div>

  <div class="toast" role="status" aria-live="polite"></div>

  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  <script>
    const GROUP_CODE = "C3QEuPYpLhT9Hlj9mI2bun";
    const toastEl = document.querySelector(".toast");

    // FunÃ§Ã£o para abrir o WhatsApp com detecÃ§Ã£o de dispositivo
    function openWhatsApp() {
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
      
      if (isMobile) {
        // No mobile, usa o deep link
        window.location.href = `whatsapp://chat?code=${GROUP_CODE}`;
      } else {
        // No desktop/navegador, usa a URL web
        window.open(`https://chat.whatsapp.com/${GROUP_CODE}`, '_blank');
      }
    }

    // Microinteraction: ripple on click
    document.querySelectorAll(".rippleable").forEach(btn => {
      btn.addEventListener("click", (e) => {
        const rect = btn.getBoundingClientRect();
        const ripple = document.createElement("span");
        const size = Math.max(rect.width, rect.height);
        ripple.className = "ripple";
        ripple.style.width = ripple.style.height = size + "px";
        ripple.style.left = (e.clientX - rect.left - size/2) + "px";
        ripple.style.top  = (e.clientY - rect.top  - size/2) + "px";
        btn.appendChild(ripple);
        setTimeout(() => ripple.remove(), 650);
      });
    });

    // BotÃ£o de entrar
    document.getElementById("joinBtn").addEventListener("click", openWhatsApp);

    // BotÃ£o de copiar
    document.getElementById("copyBtn").addEventListener("click", async () => {
      const LINK = `https://chat.whatsapp.com/${GROUP_CODE}`;
      try { 
        await navigator.clipboard.writeText(LINK); 
        showToast("Link do grupo copiado!"); 
      }
      catch(e) {
        const i=document.createElement("input"); 
        i.value=LINK; 
        document.body.appendChild(i); 
        i.select(); 
        document.execCommand("copy"); 
        i.remove();
        showToast("Link do grupo copiado!");
      }
    });

    // Generate QR (sempre com link web)
    const qrCanvas = document.getElementById("qrCanvas");
    const QR_LINK = `https://chat.whatsapp.com/${GROUP_CODE}`;
    
    if (window.QRCode) {
      QRCode.toCanvas(QR_LINK, { width: 360, margin: 1 }, (err, canvas) => {
        if (err) return fallback();
        qrCanvas.appendChild(canvas);
      });
    } else { fallback(); }

    function fallback(){
      const img = document.createElement("img");
      img.alt = "QR Code do grupo";
      img.referrerPolicy = "no-referrer";
      img.src = "https://api.qrserver.com/v1/create-qr-code/?size=360x360&data=" + encodeURIComponent(QR_LINK);
      qrCanvas.appendChild(img);
    }

    function showToast(msg){
      toastEl.textContent = msg;
      toastEl.classList.add("show");
      setTimeout(() => toastEl.classList.remove("show"), 1600);
    }
  </script>
</body>
</html>
